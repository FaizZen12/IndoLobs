<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Konfirmasi Pembayaran - Lobster Marketplace</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .payment-main {
            padding: 80px 0;
            background: #f8f9fa;
            min-height: 100vh;
        }

        .payment-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .payment-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .payment-header h1 {
            color: #333;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .payment-header p {
            color: #666;
            font-size: 1.1rem;
        }

        .order-summary {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .order-id {
            background: #f5b301;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            display: inline-block;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .order-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .detail-item {
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .detail-item h3 {
            color: #333;
            font-size: 1.1rem;
            margin-bottom: 10px;
        }

        .detail-item p {
            color: #666;
            margin: 0;
        }

        .payment-methods {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .payment-method {
            border: 2px solid #eee;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .payment-method:hover {
            border-color: #f5b301;
        }

        .payment-method.selected {
            border-color: #f5b301;
            background: #fff9e6;
        }

        .payment-method-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .payment-method-icon {
            width: 50px;
            height: 50px;
            border-radius: 10px;
        }

        .payment-method-info h3 {
            color: #333;
            margin: 0 0 5px 0;
        }

        .payment-method-info p {
            color: #666;
            margin: 0;
            font-size: 0.9rem;
        }

        .bank-accounts {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .bank-account {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }

        .bank-account h4 {
            color: #333;
            margin-bottom: 10px;
        }

        .account-number {
            background: white;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
        }

        .copy-btn {
            background: #f5b301;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8rem;
        }

        .copy-btn:hover {
            background: #e6a800;
        }

        .payment-instructions {
            background: #e8f5e8;
            border-left: 4px solid #28a745;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }

        .payment-instructions h3 {
            color: #28a745;
            margin-bottom: 15px;
        }

        .payment-instructions ol {
            color: #333;
            line-height: 1.8;
        }

        .payment-instructions li {
            margin-bottom: 10px;
        }

        .order-timeline {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .timeline-item {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
            padding: 15px;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .timeline-item.completed {
            background: #e8f5e8;
            border-left: 4px solid #28a745;
        }

        .timeline-item.pending {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
        }

        .timeline-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .timeline-item.completed .timeline-icon {
            background: #28a745;
            color: white;
        }

        .timeline-item.pending .timeline-icon {
            background: #ffc107;
            color: white;
        }

        .timeline-content h4 {
            color: #333;
            margin: 0 0 5px 0;
        }

        .timeline-content p {
            color: #666;
            margin: 0;
            font-size: 0.9rem;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .btn {
            padding: 12px 30px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .btn-primary {
            background: #f5b301;
            color: white;
        }

        .btn-primary:hover {
            background: #e6a800;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .btn-outline {
            background: white;
            color: #f5b301;
            border: 2px solid #f5b301;
        }

        .btn-outline:hover {
            background: #f5b301;
            color: white;
        }

        @media (max-width: 768px) {
            .order-details {
                grid-template-columns: 1fr;
            }
            
            .bank-accounts {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-logo">🦞 IndoLobs</div>
        <div class="nav-links">
            <a href="index.html">Beranda</a>
            <a href="marketplace.html">Marketplace</a>
            <a href="forum.html">Komunitas</a>
            <a href="news.html">Edukasi</a>
            <div id="nav-user">
                <a href="login.html" class="login-btn">Login</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="payment-main">
        <div class="payment-container">
            <div class="payment-header">
                <h1>💳 Konfirmasi Pembayaran</h1>
                <p>Lengkapi pembayaran untuk menyelesaikan pesanan lobster Anda</p>
            </div>

            <!-- Order Summary -->
            <div class="order-summary">
                <div class="order-id" id="orderId">Order ID: Loading...</div>
                
                <div class="order-details">
                    <div class="detail-item">
                        <h3>📦 Total Items</h3>
                        <p id="totalItems">Loading...</p>
                    </div>
                    <div class="detail-item">
                        <h3>💰 Total Amount</h3>
                        <p id="totalAmount">Loading...</p>
                    </div>
                    <div class="detail-item">
                        <h3>🚚 Shipping</h3>
                        <p id="shippingMethod">Loading...</p>
                    </div>
                    <div class="detail-item">
                        <h3>📅 Estimated Delivery</h3>
                        <p id="estimatedDelivery">Loading...</p>
                    </div>
                </div>
            </div>

            <!-- Payment Methods -->
            <div class="payment-methods">
                <h2>💳 Pilih Metode Pembayaran</h2>
                
                <div class="payment-method" data-method="bank">
                    <div class="payment-method-header">
                        <img src="https://img.icons8.com/color/48/000000/bank.png" alt="Bank Transfer" class="payment-method-icon">
                        <div class="payment-method-info">
                            <h3>Bank Transfer</h3>
                            <p>Transfer langsung ke rekening kami</p>
                        </div>
                    </div>
                    
                    <div class="bank-accounts">
                        <div class="bank-account">
                            <h4>🏦 BCA</h4>
                            <div class="account-number">1234567890</div>
                            <button class="copy-btn" onclick="copyToClipboard('1234567890')">Copy</button>
                        </div>
                        <div class="bank-account">
                            <h4>🏦 Mandiri</h4>
                            <div class="account-number">0987654321</div>
                            <button class="copy-btn" onclick="copyToClipboard('0987654321')">Copy</button>
                        </div>
                        <div class="bank-account">
                            <h4>🏦 BNI</h4>
                            <div class="account-number">1122334455</div>
                            <button class="copy-btn" onclick="copyToClipboard('1122334455')">Copy</button>
                        </div>
                    </div>
                </div>

                <div class="payment-method" data-method="credit">
                    <div class="payment-method-header">
                        <img src="https://img.icons8.com/color/48/000000/credit-card.png" alt="Credit Card" class="payment-method-icon">
                        <div class="payment-method-info">
                            <h3>Credit Card</h3>
                            <p>Visa, Mastercard, JCB</p>
                        </div>
                    </div>
                </div>

                <div class="payment-method" data-method="paypal">
                    <div class="payment-method-header">
                        <img src="https://img.icons8.com/color/48/000000/paypal.png" alt="PayPal" class="payment-method-icon">
                        <div class="payment-method-info">
                            <h3>PayPal</h3>
                            <p>Pembayaran internasional</p>
                        </div>
                    </div>
                </div>

                <div class="payment-method" data-method="crypto">
                    <div class="payment-method-header">
                        <img src="https://img.icons8.com/color/48/000000/bitcoin.png" alt="Cryptocurrency" class="payment-method-icon">
                        <div class="payment-method-info">
                            <h3>Cryptocurrency</h3>
                            <p>Bitcoin, Ethereum, USDT</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Payment Instructions -->
            <div class="payment-instructions">
                <h3>📋 Instruksi Pembayaran</h3>
                <ol>
                    <li>Pilih metode pembayaran yang diinginkan di atas</li>
                    <li>Untuk Bank Transfer: Salin nomor rekening dan lakukan transfer</li>
                    <li>Untuk Credit Card: Anda akan diarahkan ke halaman pembayaran aman</li>
                    <li>Untuk PayPal: Login ke akun PayPal Anda</li>
                    <li>Untuk Crypto: Scan QR code atau salin alamat wallet</li>
                    <li>Simpan bukti pembayaran untuk konfirmasi</li>
                    <li>Upload bukti pembayaran di halaman ini</li>
                </ol>
            </div>

            <!-- Order Timeline -->
            <div class="order-timeline">
                <h2>📊 Status Pesanan</h2>
                
                <div class="timeline-item completed">
                    <div class="timeline-icon">✅</div>
                    <div class="timeline-content">
                        <h4>Pesanan Dibuat</h4>
                        <p>Pesanan telah berhasil dibuat dan menunggu pembayaran</p>
                    </div>
                </div>
                
                <div class="timeline-item pending">
                    <div class="timeline-icon">💳</div>
                    <div class="timeline-content">
                        <h4>Menunggu Pembayaran</h4>
                        <p>Lengkapi pembayaran untuk melanjutkan proses</p>
                    </div>
                </div>
                
                <div class="timeline-item pending">
                    <div class="timeline-icon">🔍</div>
                    <div class="timeline-content">
                        <h4>Verifikasi Pembayaran</h4>
                        <p>Tim kami akan memverifikasi pembayaran Anda</p>
                    </div>
                </div>
                
                <div class="timeline-item pending">
                    <div class="timeline-icon">📦</div>
                    <div class="timeline-content">
                        <h4>Persiapan Pengiriman</h4>
                        <p>Lobster akan dipersiapkan untuk pengiriman</p>
                    </div>
                </div>
                
                <div class="timeline-item pending">
                    <div class="timeline-icon">🚚</div>
                    <div class="timeline-content">
                        <h4>Dalam Pengiriman</h4>
                        <p>Lobster sedang dalam perjalanan ke tujuan</p>
                    </div>
                </div>
                
                <div class="timeline-item pending">
                    <div class="timeline-icon">🎉</div>
                    <div class="timeline-content">
                        <h4>Pesanan Selesai</h4>
                        <p>Lobster telah sampai di tujuan</p>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button class="btn btn-primary" onclick="confirmPayment()">
                    ✅ Konfirmasi Pembayaran
                </button>
                <button class="btn btn-outline" onclick="uploadProof()">
                    📎 Upload Bukti Pembayaran
                </button>
                <a href="dashboard.html" class="btn btn-secondary">
                    📊 Lihat Dashboard
                </a>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>🦞 IndoLobs</h3>
                    <p>Platform marketplace lobster terpercaya dengan transparansi penuh melalui live camera.</p>
                </div>
                <div class="footer-section">
                    <h4>Layanan</h4>
                    <ul>
                        <li><a href="marketplace.html">Marketplace</a></li>
                        <li><a href="forum.html">Komunitas</a></li>
                        <li><a href="news.html">Edukasi</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Dukungan</h4>
                    <ul>
                        <li><a href="#">Bantuan</a></li>
                        <li><a href="#">Kontak</a></li>
                        <li><a href="#">FAQ</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Ikuti Kami</h4>
                    <div class="social-links">
                        <a href="#">📘 Facebook</a>
                        <a href="#">📷 Instagram</a>
                        <a href="#">🐦 Twitter</a>
                        <a href="#">📺 YouTube</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 IndoLobs. Semua hak dilindungi.</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Load user data
            const user = JSON.parse(localStorage.getItem('currentUser'));
            const navUser = document.getElementById('nav-user');
            if (user) {
                navUser.innerHTML = `<span>👋 Hai, ${user.name}</span>
                    <button id="logoutBtn" class="logout-btn">Logout</button>`;
                document.getElementById("logoutBtn").addEventListener("click", function() {
                    localStorage.removeItem("currentUser");
                    window.location.href = "login.html";
                });
            } else {
                navUser.innerHTML = `<a href="login.html" class="login-btn">Login</a>`;
            }

            // Load order data from URL parameters
            loadOrderData();
            setupEventListeners();
        });

        function loadOrderData() {
            const urlParams = new URLSearchParams(window.location.search);
            const orderId = urlParams.get('orderId');
            
            if (orderId) {
                const orders = JSON.parse(localStorage.getItem('orders')) || [];
                const order = orders.find(o => o.id === orderId);
                
                if (order) {
                    document.getElementById('orderId').textContent = `Order ID: ${order.id}`;
                    document.getElementById('totalItems').textContent = `${order.items.length} item(s)`;
                    document.getElementById('totalAmount').textContent = `Rp ${order.total.toLocaleString()}`;
                    document.getElementById('shippingMethod').textContent = order.shipping.method;
                    
                    // Calculate estimated delivery
                    const deliveryDays = order.shipping.method.includes('Express') ? 2 : 
                                       order.shipping.method.includes('Air') ? 5 : 14;
                    const deliveryDate = new Date();
                    deliveryDate.setDate(deliveryDate.getDate() + deliveryDays);
                    document.getElementById('estimatedDelivery').textContent = deliveryDate.toLocaleDateString('id-ID');
                }
            }
        }

        function setupEventListeners() {
            // Payment method selection
            document.querySelectorAll('.payment-method').forEach(method => {
                method.addEventListener('click', function() {
                    document.querySelectorAll('.payment-method').forEach(m => m.classList.remove('selected'));
                    this.classList.add('selected');
                });
            });
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(function() {
                alert('Nomor rekening berhasil disalin!');
            }, function(err) {
                console.error('Could not copy text: ', err);
            });
        }

        function confirmPayment() {
            const selectedMethod = document.querySelector('.payment-method.selected');
            if (!selectedMethod) {
                alert('Silakan pilih metode pembayaran terlebih dahulu!');
                return;
            }

            const method = selectedMethod.dataset.method;
            alert(`✅ Pembayaran dikonfirmasi!\n\nMetode: ${method}\n\nTim kami akan memverifikasi pembayaran Anda dalam 1-2 jam kerja.`);
            
            // Update order status
            const urlParams = new URLSearchParams(window.location.search);
            const orderId = urlParams.get('orderId');
            if (orderId) {
                const orders = JSON.parse(localStorage.getItem('orders')) || [];
                const orderIndex = orders.findIndex(o => o.id === orderId);
                if (orderIndex !== -1) {
                    orders[orderIndex].status = 'payment_confirmed';
                    orders[orderIndex].paymentMethod = method;
                    localStorage.setItem('orders', JSON.stringify(orders));
                }
            }
        }

        function uploadProof() {
            // Create file input
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*,.pdf';
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (file) {
                    alert(`✅ Bukti pembayaran berhasil diupload!\n\nFile: ${file.name}\n\nTim kami akan memverifikasi dalam 1-2 jam kerja.`);
                    
                    // Update order status
                    const urlParams = new URLSearchParams(window.location.search);
                    const orderId = urlParams.get('orderId');
                    if (orderId) {
                        const orders = JSON.parse(localStorage.getItem('orders')) || [];
                        const orderIndex = orders.findIndex(o => o.id === orderId);
                        if (orderIndex !== -1) {
                            orders[orderIndex].status = 'proof_uploaded';
                            orders[orderIndex].proofFile = file.name;
                            localStorage.setItem('orders', JSON.stringify(orders));
                        }
                    }
                }
            };
            input.click();
        }
    </script>
</body>
</html> 